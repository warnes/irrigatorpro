{% extends "base.html" %}

{% block content %}

  <h1>
    <i class="fa fa-pencil-square-o fa-fw"></i>
    Water Register
  </h1>

  <h2>
    <em>{{crop_season}}</em>
    - 
    <em>{{field}}</em>
  </h2>

  {% if object_list %}

    <table class="formset water-history" id="water-history">

      <thead>
      	<tr>
	  <!-- <th>Crop Season</th> -->
          <!-- <th>Field</th> -->
          <th>Date</th>
          <th>Growth Stage</th>
          <th>DWU</th>
          <th>Rain</th>
          <th>Irrigation</th>
          <th>AWC</th>
	  <th><i class="fa fa-rss"></i></th> <!-- From Probes -->
          <th>Irrigate</th>
          <th>Check Sensors</th>
          <th>Dry-Down</th>
	  <!--th>Description</th-->
       	</tr>
      </thead>

      <tbody>
	{% for object in object_list %}
	  <tr>
	      <!-- <td> -->
	      <!-- 	{{ object.crop_season }} -->
	      <!-- </td> -->
	      <!-- <td> -->
	      <!-- 	{{ object.field }} -->
	      <!-- </td> -->
	      <td>
		{{ object.date|date:"Y-m-d" }}
	      </td>
	      <td>
		{{ object.crop_stage }}
	      </td>
	      <td>
		{{ object.daily_water_use }}
	      </td>
	      <td>
		  {{ object.rain }}
	      </td>
	      <td>
		  {{ object.irrigation }}
	      </td>
	      <td>
		{{ object.average_water_content }}
	      </td>
	      <td>
		{% if object.computed_from_probes %}
		  <i class="fa fa-rss"></i>
		{% endif %}
	      </td>
	      <td>
		{% if object.irrigate_flag %}
		  <div class="alert-inline alert-danger">
		    <b>Irrigate</b>
		  </div>
		{% endif %}
	      </td>
	      <td>
		{% if object.check_sensors_flag %}
		  <div class="alert-inline alert-warning">
		    Check Sensors
		  </div>
		{% endif %}
	      </td>
	      <td>
		{% if object.dry_down_flag %}
		  <div class="alert-inline alert-success">
		    Dry-Down
		  </div>
		{% endif %}
	      </td>
	      <!-- td>
		{{ object.description }}
	      </td -->
	  </tr>
	{% endfor %}
      </tbody>
    </table>

  {% else %}

    <div class="alert alert-danger">
      No data to display.  Check that Crop
      Season <em>{{crop_season}}</em> has events defined for field {{field}}.
    </div>

  {% endif %}

{% endblock %}
