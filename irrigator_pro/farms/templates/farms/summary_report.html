{% extends "base.html" %}

<!-- AL: Just copied farms_and_fields.html in order to test the flow, -->
<!-- have the basic imports, test git from my account. -->


{% block scripts %}
  <script type="text/javascript">
    $(function() {
      $('#formset tbody tr').formset({
        addText: '<i class="iTooltip add-icon fa fa-plus-square" help="Add Row"> Add Row</i>',
        deleteText: '<i class="iTooltip delete-icon fa fa-minus-square" help="Delete Row"></i>' //'Delete Row',
      });

    <!--  !! DOESNT WORK ON IE 11.0.4 !! -->
    <!--   /** -->
    <!--    Sort users by selected status, value (descending), and text. -->
    <!--    **/ -->

    <!--   options = $('select#id_users option'); -->

    <!--   arr = options.map(function(_, o) { -->
    <!--             return { -->
    <!--                 t: o.text, -->
    <!--                 v: parseInt(o.value), -->
    <!--                 s: o.selected -->
    <!--             }; -->
    <!--         }).get(); -->

    <!--   arr.sort(function(o1, o2) { -->
    <!--       /* Selected - Selected First */ -->
    <!--       if( o1.s < o2.s ) return +1; -->
    <!--       if( o1.s > o1.s ) return -1; -->

    <!--       /* Value - descending */ -->
    <!--       if( parseInt(o1.v) < parseInt(o2.v) ) return +1; -->
    <!--       if( parseInt(o1.v) > parseInt(o2.v) ) return -1; -->

    <!--       /* Text - Increasing */ -->
    <!--       if( o1.v < o2.v ) return -1; -->
    <!--       if( o1.v > o2.v ) return +1; -->
	
    <!--       return 0; -->
    <!--   }); -->
    <!--   options.each(function(i, o) { -->
    <!--       o.value = arr[i].v; -->
    <!--       o.text = arr[i].t; -->
    <!--       o.selected = arr[i].s; -->
    <!--   }); -->
    <!--   $('select#id_users').scrollTop(0,0); -->
    <!-- }) -->
  </script>
{% endblock %}


{% block content %}

  <h1>
    <i class="fa fa-pencil-square-o fa-fw"></i>
    Summary report
  </h1>

  <h2>
    <em>{{crop_season}}</em>
  </h2>

    
    {% if object_list %}

  <!-- Add table header here -->
  <table>
    <thead>



      {% for object in object_list %}
         field: {{ object.field }}<br/>
  <!-- table row here. -->
         growth_stage: {{ object.growth_stage }}<br/>
         last_event_date: {{ object.time_last_data_entry }}<br/>
         last_event_type: {{ object.last_data_entry_type }}<br/>

  {{ object.dwu }}<br/>
  {{ object.awc }}<br/>
  {{ object.cumulative_rain }}<br/>
  {{ object.cumulative_irrigation_vol }}<br/>

      {% endfor %}
  
  <!-- End of table here. -->

    {% else %}
      <b> Nothing to display yet. </b>
    {% endif %}

{% endblock %}
