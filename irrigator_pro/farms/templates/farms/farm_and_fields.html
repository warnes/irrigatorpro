{% extends "base.html" %}


{% block scripts %}
<script type="text/javascript">
    $(function() {
        $('#formset tbody tr').formset({
            addText: '<i class="iTooltip add-icon fa fa-plus-square" help="Add Row"> Add Row</i>',
            deleteText: '<i class="iTooltip delete-icon fa fa-minus-square" help="Delete Row"></i>' //'Delete Row',
        })
    })
</script>
{% endblock %}


{% block content %}

  {% include 'farms/farm_navbar.html' %}
  
    <!-- Farm Details -->

    <div class="third-level">

      <h2>Farm</h2>

      <form action="{{ request.path }}" method="post">{% csrf_token %}
	<tbody>

	  {% if form.non_field_errors %}
	    <div class="alert alert-danger">
	      {{ form.non_field_errors }}
	    </div>
	  {% endif %}

	  <table class="default-form">
	    {% for input in form %}
	      <tr>
		<td>{{ input.label_tag }}</td> 
		<td>{{ input }}</td>
		<td>
		  {% if input.errors %}
		    <div class="inline-alert alert-danger">
		      {{ input.errors }}
	            </div>
		  {% else %}
		    {% if input.field.required %}(Required){% endif %}
		  {% endif %}	
		</td>
	      </tr>
	    {% endfor %}
	  </tbody>
	</table>

	<h2>Fields</h2>

	<table id="formset" class="formset default-form">
	  <thead>
	    <tr>
	      {% for label in field_form_headers %}
		<th>{{ label }}</th> 
	      {% endfor %}
	    </tr>
	  </thead>

	  <tbody>
	    {% for field in field_form %}
	      <tr>
		{% for input in field %}
		  <td>
		    {% if input.errors %}
		      <div class="inline-alert alert-danger">
			{{ input.errors }}
	              </div>
		    {% endif %}
		    {{ input }}
		  </td>
		{% endfor %}
	      </tr>
	    {% endfor %}
	  </tbody>
	</table>

	<div class="submit-bar">

	  <button value="Submit" type="submit" class="btn btn-success">
	    <i class="fa fa-floppy-o"></i> Save Changes
	  </button>

	  {% if object.pk %}
	    <a class="btn btn-warning" href="{{ farm_path }}{{ object.pk }}">
	      <i class="fa fa-undo fa-fw"></i> Cancel Changes
	    </a>
	  {% else %}
	    <a class="btn btn-warning" href="{{ farm_path }}">
	      <i class="fa fa-undo fa-fw"></i> Cancel Changes
	    </a>
	  {% endif %}

	  {% if object.pk %}
	    <a class="btn btn-danger" href="{{ farm_path }}delete/{{ object.pk }}">
	      <i class="fa fa-times fa-fw"></i> Delete
	    </a>
	  {% endif %}

	</div>


	{{ field_form.management_form }}

      </form>

    </div>
    <!-- /Farm Details -->

    
{% endblock %}
