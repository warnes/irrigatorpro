{% extends "base.html" %}


{% block scripts %}
<script type="text/javascript">
    $(function() {
        $('#formset tbody tr').formset({
            extraClasses: ['row1', 'row2', 'row3']
        })
    })
</script>
{% endblock %}


{% block content %}

  <h2>Probes</h2>
  
  <form id="formset" action="{{ request.path }}" method="post">{% csrf_token %}
    
    <table class="formset" >
      <thead>
	<tr>
	  {% for field in formset.fields %}
	    <th>{{ field.name }}<th>
	  {% endfor %}
	</tr>
      </thead>


      <tbody>
	{% for field in formset %}
	  <tr>
	    {% for input in field %}
	      <td>
		{% if input.errors %}
		  <div class="inline-alert alert-danger">
		    {{ input.errors }}
	          </div>
		{% endif %}
		{{ input }}
	      </td>
	    {% endfor %}
	  </tr>
	{% endfor %}
	</table>
	
    <div class="submit-bar">
      <button value="Submit" type="submit" class="btn btn-success">
	<i class="fa fa-floppy-o"></i> Save Changes
      </button>
      
      
      {% if object.pk %}
	<a class="btn btn-warning" href="{{ farm_path }}{{ object.pk }}">
	  <i class="fa fa-undo fa-fw"></i> Cancel Changes
	</a>
      {% else %}
	<a class="btn btn-warning" href="{{ farm_path }}">
	  <i class="fa fa-undo fa-fw"></i> Cancel Changes
	</a>
      {% endif %}
      
      {% if object.pk %}
	<a class="btn btn-danger" href="{{ farm_path }}delete/{{ object.pk }}">
	  <i class="fa fa-times fa-fw"></i> Delete
	</a>
      {% endif %}
	    
    </div>
    
    {{ formset.management_form }}

    
  </form>

{% endblock %}
